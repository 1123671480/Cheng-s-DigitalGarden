---
{"dg-publish":true,"dg-note-icon":"withered","tags":["TBP"],"dg-path":"Major/Geography/参数化城市建模.md","permalink":"/Major/Geography/参数化城市建模/","dgPassFrontmatter":true,"noteIcon":"withered","created":"2024-07-04T13:45:17.000+08:00","updated":"2024-11-06T11:46:06.135+08:00"}
---

# 数据获取  
-   「CON」等高线  
	-   DEM载入 [[D 📚 RESOURCE/⚒️ Software/geography/Esri_ArcGIS\|Esri_ArcGIS]]  
		-   「Mosaic to new raster」镶嵌至新的栅格  
			-   多张图拼合成一张  
		-   「Copy raster」复制栅格  
			-   裁剪范围  
		-   「Contour」等值线「con」  
			-   生成自定义间距等值线  
	-   DEM载入Global Mapper  
		-   根据KML范围裁剪  
		-   生成等值线  
		-   导出SHP/CAD格式  
# 平面城市建模  
参考于[蒯鼎的Rhino+GH+GIS分分钟生成国内城市模型](https://www.bilibili.com/video/BV1Bb411e7QF?spm_id_from=333.337.search-card.all.click&vd_source=d550f6dcc7e4f0a967ed4a51ca9e4f65)
-   ArcMap  
	-   拖入SHP建筑轮廓  
	-   通过编辑器裁剪出项目KML范围的数据  
		-   框选数据  
		-   右键打开属性表  
		-   切换选择  
		-   Del 删除  
	-   「要素折点转点」生成转折点  
		-   输入建筑轮廓  
	-   「添加XY坐标」  
		-   输入转折点  
	-   坐标点  
		-   属性表  
			-   表选项  
				-   导出  
					-   保存类型：文本文件  
	-   导入Excel  
		-   数据  
			-   分列  
				-   分隔符号  
					-   逗号  
		-   另存为xlsx坐标点文件  
-   GrassHopper  
	-   建筑网格面  
		-   通过「File Path」文件路径读取SHP格式的文件到「Import SHP」导入SHP文件中  
		-   C口连接「Scale」三维缩放，缩放系数100000  
		-   可以通过「Custom Preview」自定义预览给色预览  
		-   通过【插件LunchBox】「Excel Reader」读取xlsx坐标点文件  
			-   输入端  
				-   Read Excel Data 输入布尔值  
				-   Workbook Patch 输入文件路径  
				-   Worksheet Name 表格名称 注意要和xlsx文件名称相同  
		-   用「Cull Index」剔除序号对应的数据删掉序号为0的FID字母  
			-   Indices 0  
		-   用「Explode Tree」拆分分支将Excel Data的数据拆分  
			-   右键 Match outputs  
			-   {2;0;0}对应的是层高  
			-   {3;0;0}对应的是FID序号  
			-   {4;0;0}和{5;0;0}对应点的XY坐标  
		-   XY坐标输入「Construct Point」通过XYZ坐标数值建立点  
		-   FiD序号输入「Create Set」创建数据集合合并同类项  
		-   「Member Index」查找数据序号将一个列表中相同的数据合到一组  
			-   Set 接入合并同类项后的数据  
			-   Member 接入FID序号  
		-   「List Item」数据提取 通过筛选的数据序号组来提取点数据中的建筑轮廓个体  
			-   list 接入通过XY建立的点  
			-   Index 接入查找数据序号后的数据  
		-   再利用「PolyLine」折线进行连线  
			-   右键Boolean 选择True 封闭多段线  
		-   接入「Scale」三维缩放放大100000倍  
		-   输出一个「Curve」曲线并且简化  
		-   利用「Boundary Surfaces」平面边缘轮廓建立平面进行封面  
		-   连入「Mesh Brep」Brep转网格将面转为网格  
			-   输入端Settings连接「Settings (Speed)」网格设置（速度）低精度  
			-   输出端进行简化  
	-   建筑高度  
		-   「List Item」数据提取  
			-   list 接入{2;0;0}层高  
			-   index 接入「Member Index」查找数据序号的值  
		-   再通过「List Item」数据提取筛选出第一个数值  
		-   「Multiplication」乘法乘以层数高度 4米并简化  
	-   利用【插件Weaverbird】「Weaverbird's Mesh Thicken」挤出高度  
		-   Mesh/Curves 接入建筑网格面  
		-   Distance 接入建筑高度  
			-   右键Expression表达式//翻转方向  
				-   -x  
	-   拍平后接入「Mesh Join」合并网格网格成组  
	-   用「Unweld Mesh」取消网格焊接  
		-   Angle 接入70度 并且用「Radians」转弧度单位角度转弧度  
	-   Rhino中网格显示  
		-   渲染模式  
			-   物件  
				-   网格  
					-   线框宽度0 边缘线宽1 边缘线宽（像素）1  
# 立体城市建模  
参考于[伦敦辣妹的国内参数化城市建模](https://www.bilibili.com/video/BV11K411L7QU?spm_id_from=333.1007.top_right_bar_window_history.content.click)  
-   Meerkat  
	-   获取Google API  
		-   [Maps Javascript API](https://developers.google.com/maps/documentation/javascript/get-api-key)  
		-   [Geocoding API](https://developers.google.com/maps/documentation/geocoding/get-api-key)