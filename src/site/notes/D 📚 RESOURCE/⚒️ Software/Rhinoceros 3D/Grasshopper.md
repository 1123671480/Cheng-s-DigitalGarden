---
{"tags":["software"],"type":["参数化"],"dg-publish":true,"dg-note-icon":"3","dg-path":"⚒️ Software/Rhinoceros 3D/Grasshopper.md","permalink":"/⚒️ Software/Rhinoceros 3D/Grasshopper/","dgPassFrontmatter":true,"noteIcon":"3","created":"2024-07-04T13:45:17.000+08:00","updated":"2024-11-01T20:34:35.889+08:00"}
---

# Reference 参考于  
-   [Rhino原厂—Grasshopper Help](http://docs.rhino3d.com.cn/gh)  
-   [犀流堂—蒯鼎 100GH运算器详解](http://100-gh.com/1665388)  
-   [米营社—RICE GH运算器速查词典完整版](https://www.kancloud.cn/li457357416/ghdictionary-edit/3009583)  
-   [Shayne1987—Grasshopper中文版运算器详解2022](https://www.bilibili.com/video/BV1rZ4y1U76A/?spm_id_from=333.788.recommend_more_video.1&vd_source=d550f6dcc7e4f0a967ed4a51ca9e4f65)  
-   白云生、高云河—Grasshopper参数化非线性设计  
# Intro 简介  
-   参数化设计(Parametric Design)是一种基于算法思维模式的处理方法。可以将各方面条件因子有效地组织起来。通过定义规则、组合排列及编码等方式来实现可视化的设计意图。以(Rhino-+Grasshopper)技术为主的建筑方向的参数化设计，自2010年开始，在中国各个城市院校及设计事务所越来越受到重视。基于这种算法技术，建筑师获得了用以分析及模拟复杂的自然研究、结构化建造、城市规划组合等诸多主题的设计工具。将创意想象交给自己，迭代计算交给软件和计算机。但是在刚开始的几年，参数化设计仅仅是提供给具有编写程序代码能力的设计师，并依靠抽象化的RhinoScript(类似VB Script)来编写参数化模型，对于希望从事这方面研究的设计师，不得不先投入精力学习枯燥的编程语言，这对设计师来讲，是一种非常沉重的学习负担。所幸，随着可视化编程插件Grasshopper的出现，设计师可以快速上手学习该插件，并掌握设计的关键技术。由于该插件是基于Rhio本身开发，其内部的API和功能模块也都天衣无缝地与Rhino集成在一起，更加高效！  
-   本笔记记录了Grasshopper的基础以及原生运算器的用法。—— chengcheng 2022.8  
# Setting 设置  
-   File 文件![](https://api2.mubu.com/v3/document_image/3afa2446-c172-429b-abf6-fe7d3db9797e-20454557.jpg)  
-   View 视图![](https://api2.mubu.com/v3/document_image/cb2687ae-48cd-405d-9514-62510f8c9e1d-20454557.jpg)  
-   Dispaly 显示![](https://api2.mubu.com/v3/document_image/71079ffd-ce19-4d07-8dda-53f2f22e3636-20454557.jpg)  
-   鼠标中键![](https://api2.mubu.com/v3/document_image/fcf8bb75-c7ca-4610-82d6-26f195d1ab96-20454557.jpg)  
-   键盘快捷键  
	-   按住「Ctrl+Alt」点击运算器会显示运算器在工具列表中的位置。  
	-   按住鼠标右键可以在工作窗口中移动。  
	-   按住「Alt」在空地向左/右键拖动可以扩大操作空间。  
	-   拖动电池按住「Alt」复制。  
	-   按住「Ctrl+Shift」拖动运算器口可以把多条电线一起拖拽。  
	-   双击电池的连接线会自动插入一个中继器用于理线。  
	-   「Ctrl+G」将选择的运算器组成群组，方便电池群组移动和查看。如果需要添加新的电池到群组，则选中要添加的电池，在指定群组空白处右键点击添加到组，或者直接全选要成组的运算器，再点击添加到组。右键还可以设置群组的背景颜色等。  
	-   鼠标箭头放在运算器的输入端和输出端文字上，会自动显示相关注释，及输出端数据结构。  
	-   按住「Shift」可以增加多个运算器输入端的连线，有些数据要注意连接的先后顺序；按住「Ctrl」则是减少运算器的连接线，也可以右键菜单里断开指定的连接线。  
-   插件  
	-   Grasshopper 插件扩展名  
		-   第1种：绿色图标 ，扩展名为 *.gha。![](https://api2.mubu.com/v3/document_image/744e1191-12a6-4af0-8c3e-8f3d87f410a1-20454557.jpg)  
		-   第2种：橙色图标 ，扩展名为 *.ghuser。![](https://api2.mubu.com/v3/document_image/2a03245d-b821-46d4-9387-ac3bd91201c8-20454557.jpg)  
		-   第3种：紫色图标 ，扩展名为 *.ghx。![](https://api2.mubu.com/v3/document_image/a551b06d-e25e-4263-98e5-67ad5bfd07d8-20454557.jpg)  
		-   第4种：无图标 ，扩展名为 *.ghpy。  
		-   其中 扩展名为 *.gha 的是 C++、C#、VB 语言编写并编译的；*.ghuser 为各种语言编写的 未编译插件，有些可以从其中看到编写源代码，或者是一种打包电池组；扩展名为 *.ghpy 的是 Python语言编写并编译的独有 文件格式，看不到源代码。  
	-   安装位置  
		-   如果插件为 单个文件时，安装时直接拖动插件文件到 Grasshopper 界面即安装完成，如果插件有多个文件的，则需要把插件整个文件夹复制到 GH的插件库目录。  
		-   *.gha 和 *.ghpy格式的通用性比较强，可以放在 磁盘任意位置。插件库目录一般在  
			-   “C:\Users\电脑用户名\AppData\Roaming\Grasshopper\Libraries ”  
		-   *.ghuser 插件则必须安装在  
			-   “C:\Users\电脑用户名\AppData\Roaming\Grasshopper\UserObjects"  
		-   由于 Rhino 的版本比较多，各种插件所支持的 Rhino版本也不尽相同，所以Rhino开发者为管理各种插件的安装目录，为各插件指定了安装目录：  
			-   "C:\Users\电脑用户名\AppData\Roaming\McNeel\Rhinoceros\packages"  
	-   查看插件安装目录  
		-   在想找的插件任意一个电池点鼠标右键，可以查看该插件的安装位置。  
# Concept 概念  
-   Point 点  
	-   GH中的点是由三维坐标(X、Y、Z)构成的，创建点的方法包括指定X、Y、Z坐标，以及拾取Rhino空间中的点。GH中默认点的显示样式为X状，可以在【Display一Preview Point Flavour】中更改点的显示样式。  
	-   在一些实际项目中往往涉及三维坐标点的施工定位，将场地与软件中的坐标系统一以后，可以通过Pnl面板导出定位点的三维坐标。具体方法如图1-27所示，右键单击包含点坐标信息的Panel面板，选择[Stream Contents]，然后将文件保存为CSV格式，这样文件就可以直接在ExCl中打开，最后将坐标信息提交给施工单位进行定位。![](https://api2.mubu.com/v3/document_image/59872779-7ee7-414a-ac3d-06a148cb1a86-20454557.jpg)  
	-   由于GH中的点是由X、Y、Z坐标构成的，因此可以根据数学公式来创建有规律的点阵如图1-28所示，将二维点阵分解为X、Y、Z坐标，把Z坐标作为变量，通过Expression输人表达式来确定Z坐标与X,Y坐标的函数关系，每输人一组X、Y坐标值，就会依据输人的表达式生成一个新的Z坐标，这样生成的点阵形态就会符合数学规律。![](https://api2.mubu.com/v3/document_image/e30d6910-8a9a-4166-b172-e52b01e09d61-20454557.jpg)  
	-   点作为GH中最低维度的物体，一些高阶运算往往都需要降低到点这个维度进行操作，这一点其实跟Rhino比较类似，比如想在Rhino中建立高质量的曲线，就需要布局合理的控制点位置。  
-   Vector 向量  
	-   向量是一种抽象的三维数据类型，在Rhino场景中是不可见的。GH为了存储数据简便，将向量以点的数据形式来表达。如图1-29所示，向量输出的结果其实都是点的坐标。以最基本的向量X来说明，向量X输出的结果为{1.0,0.0,0.0}，代表的是坐标为{1.0,0.0,0.0}的这个点相对于原点的长度和方向，所以说向量是相对的，但是点是绝对的。![](https://api2.mubu.com/v3/document_image/4496269f-399d-4660-b021-cda1b039e221-20454557.jpg)  
	-   向量通常与「Move」移动一起搭配使用，如图1一30所示，将平面六边形矩阵每个单元随机移动，移动的向量方向为Z轴方向，向量的大小通过随机数值控制。由于向量是不可见的，因此可以通过「Vector Display」矢量/向量 显示来显示向量。将移动前后的两个对应六边形通过放样成面，再由「Cap Holes」平面切口补平面将曲面加盖，最后通过「Gradient」色彩渐变器为六边形体块赋予渐变色。![](https://api2.mubu.com/v3/document_image/301eee3d-ab82-4bfe-bc41-3153a9a50c68-20454557.jpg)  
-   Plane 平面  
	-   平面是没有边界且向两个方向无限延伸的，如图1-31所示，用Panel面板来查看平面所输出的数据，可以发现平面是由一个平面中心点及垂直于这个平面的向量共同组成的数据构成的。GH把向量和平面都以点的数据形式来存储，这样也简化了数据的结构类型。![](https://api2.mubu.com/v3/document_image/f588a197-e6a2-4733-9920-2d4e6317f605-20454557.jpg)  
	-   平面在GH中的主要作用是定位物体，其显示大小可以在【Display一Preview PlaneSize】中调整，使用者可根据模型尺寸调整平面的显示大小。以下通过一个案例介绍Plane的应用方法。![](https://api2.mubu.com/v3/document_image/bad5d663-9134-4002-b0a6-20b0b50ad7a3-20454557.jpg)  
		-   (1)如图1-32所示，用「Ellipse」建立椭圆线创建一个长轴和短轴半径分别为65和55的椭圆。同时通过右键单击其E输出端，选择[Reparameterize]将曲线的区间范围定义到0至l,这样做的目的是与Range运算器的默认区间范围保持数据关联。  
		-   (2)调人「Range」基于数值范围的等差数列，由于其D输入端的默认区间范围是0至1，将该区间等分为24段，那么可生成25个数值。  
		-   (3)通过「Perp Frame」曲线的垂直坐标平面生成椭圆的切平面，将上一步骤中等分区间的数值赋予其T输入端，那么生成切平面的数量为25个。  
		-   (4)通过「Ellipse」建立椭圆线以切平面为定位中心生成椭圆，其长轴和短轴半径分别设定为34和15.  
		-   (5)调入「Range」基于数值范围的等差数列，将5*Pi的弧度值赋予其D输入端，将步骤(2)中的等分段数24赋予其N输人端。  
		-   (6)通过「Rotate」旋转将椭圆进行旋转，将步骤(3)中生成的切平面赋予其P输入端作为参考平面：将上一步骤中等分的区间数值赋予其A输人端作为旋转的弧度值。  
		-   (7)通过Lot运算器将旋转后的椭圆进行放样成面。  
		-   (8)由「Divide Domain」等分区间和「Isotrim」结构线切割（提取子曲面）两个运算器依据二维区间细分子曲面。  
		-   (9)用「Surface」Nurbs曲面拾取Isotrim运算器的输出结果，并通过右键单击Surface运算器的输人端，将Wire Display的连线模式改为Hidden,即可隐藏其与Isotrim运算器之间的线。  
		-   (10)通过Area运算器提取每个子曲面的中心点，并由「Deconstruct」拆分点为XYZ坐标数值将中心点分解为X、Y、Z坐标。  
		-   (11)用「Bounds」一组数值的区间范围统计中心点的Y坐标值组成的区间范围，并利用「Deconstruct Domain」拆分数值区间提取区间的最小值和最大值。  
		-   (12)将区间的最小值和最大值分别赋予「Gradient」色彩渐变器的L0、L1两个输入端，同时将步骤(10)的中心点分解后的Y坐标赋予其T输人端。  
		-   (13)通过「Custom Preview」自定义预览将渐变色赋予子曲面，使用者可尝试将渐变色依据更换为X或Z坐标，查看子曲面的不同渐变色效果。  
-   Domain 区间  
	-   GH的本质其实就是对数据的处理，因此区间作为限定数据的范围是非常重要的。为了存储数据简便，GH把常用的一些图形或几何体以区间的数据形式来存储，比如说曲线可以定义为一维区间，曲面定义为二维区间。  
	-   创建区间的方法很多，如图1一33所示，可以通过数字指定范围创建区间，也可以通过曲线或分解曲面来创建区间。在GH中很多运算器的默认区间都是0至1，在实际应用中我们往往需要将区间重新定义到0至I这个范围，对于数字区间的重新定义可以通过「Remap Numbers」区间映射进行映射来完成(Remap的目标区间默认数值为0至1)，对于曲线和曲面区间的重新定义可以通过右键单击输入端或输出端选择[Reparameterize]来完成。![](https://api2.mubu.com/v3/document_image/0fb48983-09db-4340-a135-ac2dfbb07c31-20454557.jpg)  
	-   常用的默i认区间为0至I的运算器有Image Sampler、Graph Mapper、Range。其中Range多配合Graph Mapper一起使用。  
	-   「Image Sampler」图像采样器输出的数据为图片上点对应的颜色或明度值，如图1-34所示，Image Sampler运算器默认的X、Y区间都是0至I,为了保证数据的对应，需要把边界的区间重新定义到0至I。其中Channel一般选择的模式为Colour brightness明度值，这样输出的数据就是单个数据。勾选[Auto update]和[Save in file]可以防止图片因路径的变动或删除而产生错误。  
	-   通过Image Sampler运算器可依据图片快速生成像素墙，其应用既可用于室外建筑立面，常用的默i认区间为0至I的运算器有Image Sampler、Graph Mapper、Range。其中Range多配合Graph Mapper一起使用。![](https://api2.mubu.com/v3/document_image/0a507573-e195-43f6-b79e-b858582eb5aa-20454557.jpg)  
	-   也可用于室内装饰墙面。以下为通过图像采样器创建像素墙的具体方法。  
		-   (1)如图1-35所示，通过Rectangle运算器创建一个长和宽分别为60、40的矩形。  
		-   (2)通过「Boundary Surfaces」平面边缘轮廓建立平面将矩形进行封面，同时右键单击其输出端选择[Reparameterize]，将曲面的区间定义为0至I,这样做的目的是为了与图像采样器的默认区间保持一致。  
		-   (3)通过「Divide Surface」曲面参数值等分点在曲面上生成等分点，其U、V两个方向的等分点数量分别设置为80和60.  
		-   (4)调入「Image Sampler」图像采样器，并导入一张图片，将Channel模式改为Colourbrightness。把等分点的U、V坐标赋予图像采样器，这样就保证了0至1区间的一致性。  
		-   (S)通过「Multiplication」乘法将图像采样器输出的U、V坐标点对应的图片明度值乘以一个倍增值，这样可以更加灵活地控制数据大小。  
		-   (6)通过「Center Box」中心点建立方体创建长方体，将曲面上的等分点作为其中心点，其X、Y两个方向的长度值设定为相同大小，将图像采样器输出的明度信息值作为长方体的高度。其输出结果为：图片越亮位置的长方体越高，图片越暗位置的长方体越低。![](https://api2.mubu.com/v3/document_image/79ed2404-0c23-4376-90e0-678fc04ffed0-20454557.jpg)  
		-   「Graph Mapper」函数映射是GH中十分常用的运算器，如图I-36所示，它的运算原理就是将输入的数值对应X轴上的坐标值，然后输出函数图形上对应Y轴的坐标值，我们可以通过右键单击[Graph Mapper]。运算器更改函数的类型。![](https://api2.mubu.com/v3/document_image/fc0e6c59-dd38-44e9-a7a0-47a4e312c2ed-20454557.jpg)  
		-   Graph Mapper函数映射运算器的X、Y默认区间都是0至I,如图1-37所示，为了避免手工修改函数的区间，可以借助「Range」基于数值范围的等差数列将0至1的区间进行等分，将生成的数值作为函数图形对应的X坐标。  
		-   由于函数图形的输出数据是Y轴对应的坐标值，可通过「Construct Domain」建立数值区间、「Bounds」一组数值的区间范围和「Remap Numbers」区间映射三个运算器将0至I范围内的输出坐标值映射到自定义的区间内。需要注意的是，Range运算器的D输人端并没有赋予数值，是因为其默认区间范围就是0至I。该方法可以看做是函数映射的固定用法，在后面的很多案例中都会用到。![](https://api2.mubu.com/v3/document_image/16e12794-4737-47c5-9230-d5fd19e936f7-20454557.jpg)  
		-   Graph Mapper运算器在GH中的应用较为广泛，以下通过一个案例介绍函数映射的具体方法。![](https://api2.mubu.com/v3/document_image/1f2d35a8-8fda-481b-8cbe-dccf6b15203c-20454557.jpg)  
			-   (1)如图1-38所示，用「Hexagonal」六边形单元线创建一个六边形矩阵，X、Y方向的六边形数量分别为30和20.  
			-   (2)由于Hexagonal运算器的输出数据为树形数据，为了简化路径结构，可右键单击其C、P两个输出端，选择Flatten将路径进行拍平。  
			-   (3)通过「List Length」列表长度测量六边形的数量，并由「Subtraction」减法将，总数量减去1.  
			-   (4)用「Range」基于数值范围的等差数列将0至1区间进行等分，等分的段数为六边形数量减去1.  
			-   (5)调人「Graph Mapper」函数映射，并将其函数类型改为Sine函数。将等分数值赋予Graph mapper运算器，对其进行函数映射。  
			-   (6)由于正弦函数的输出数据区间是0至I,可通过「Bounds」一组数值的区间范围、「Remap Numbers」区间映射和「Construct Domain」建立数值区间三个运算器将函数的输出数据映射到0.12至0.89区间内。  
			-   (7)通过「Scale」三维缩放将六边形依据中心点进行缩放，缩放的比例因子为映射后的数值。  
			-   (8)通过两个「Graft Tree」数据树增加一层将缩放前后的六边转化为树形数据。  
			-   (9)用「Merge」合并同路径的数据将两组树形数据进行合并，为了简化路径结构，需要将Merge运算器的两个输入端通过Simplify进行路径简化。  
			-   (10)用「Boundary Surfaces」平面边缘轮廓建立平面将合并后的数据进行两两对应封面，为了使数据结构与之前映射的数据结构保持一致，需要将其输出端通过Flatten进行路径拍平。  
			-   (1I)将映射后的数值通过「Multiplication」乘法乘以一个倍增值，并将其赋予向量Z作为封面的高度值。最后通过「Extrude」挤出为曲面或实体将封面沿着Z轴向量进行延伸。  
-   Curve 曲线  
	-   Curve在GH中是以一维区间的数据来存储的。如图I-39所示，在Rhino空间中绘制一条曲线，选中曲线后在指令栏中输人“What”命令来查看它的描述，会发现这条曲线的定义域是0.00至193.02。![](https://api2.mubu.com/v3/document_image/15d66d83-2a57-40cb-a76c-cb5d00157052-20454557.jpg)  
	-   如图I-40所示，将这条曲线拾取进GH,用「Length」曲线长度测量该曲线长度，会发现其长度值为177.201784，那么说明这个区间的最大值并不是依据曲线的长度来确定的。  
	-   打开曲线的控制点，将这些控制点连成多段线，用Length运算器测量其长度，可以发现这个多段线的长度值就是NURBS曲线区间的最大值。  
	-   由于GH中很多运算器的默认区间值都是0至1，因此可以通过右键单击输人端或输出端选择[Reparameterize]将曲线的区间范围重新定义到0至l.  
	-   曲线上的每一个点都可以由X、Y、Z坐标来表示，由于GH中很多操作都需要降低到点这个维度来操作，因此在曲线上找点是很常用的做法。为了简化数据存储的维度，GH中引入了t值的概念。![](https://api2.mubu.com/v3/document_image/d5b8f311-db99-4f1c-8a1b-017fc92fb9c3-20454557.jpg)  
	-   曲线可以用一个0至1的区间来表示，t值就是这个区间中的数值。需要注意的是，1值的确定不是根据距离或弧长，影响值的因素是曲线控制点的位置。我们可以把一条曲线想象成F1赛车的赛道，一位赛车手从起点到节点t所用的时间就是t值，在行驶距离相同的情况下，赛道弯折程度越大，所需要的时间越长。  
	-   如图1一41所示，创建两条长度相等的曲线，由于控制点的分布位置不同，相同的t值所对应点的位置相差很大，控制点分布越密集的地方产生的阻力越大。  
	-   将第二条曲线进行复制作为第三条曲线，通过「Point On Curve」曲线上的点找到第三条曲线的中点，会发现Point On Curve运算器是依据长度来定位的。![](https://api2.mubu.com/v3/document_image/0805eea9-ee7c-4376-8d4e-0b84693f42f0-20454557.jpg)  
	-   t值在曲线的相关操作中扮演着很重要的角色，以下为t值在曲线操作过程中的一些用法实例。  
		-   (1)如图1-42所示，可以将t值与「Shatter」分割曲线搭配使用来分割曲线。  
		-   (2)通过「Horizontal Frame」曲线的水平坐标平面可依据t值生成曲线的水平平面：通过「Perp Frame」曲线的垂直坐标平面可依据t值生成曲线的切平面。  
		-   (3)「Evaluate Curve」以参数值指定曲线上的一个点既可计算出曲线t值对应的点，同时还可确定该点对应曲线的切线方向。![](https://api2.mubu.com/v3/document_image/aaf5e8fd-2c17-453c-b455-5b4f916d9a82-20454557.jpg)  
		-   (4)通过「Evaluate Length」曲线长度指定点可依据长度计算出曲线上对应点的位置，并得到该点对应的t值。需要注意的是其N输人端需要赋予的数据为布尔值，当输入的布尔值为Tue时，整个曲线的长度被定义到单位0至1区间内，当输入的布尔值为Flse时，则按照曲线实际的长度来计算。  
		-   (5)「Curve Closest Point」曲线上的最近点可计算曲线外一点到这条曲线的最近点，并确定该点所对应的t值，利用该运算器也可计算曲线上的点对应的t值。  
	-   以下通过一个案例介绍曲线在GH中的应用方法：  
		-   (1)如图1-43所示，在Rhino空间中绘制3条直线，其长短及方向可以自行定义。  
		-   (2)通过「Divide Curve」曲线等分将3条曲线等分为相同的点数，并用「Graph Mapper」函数映射配合「Remap Numbers」区间映射将等分点沿着Z轴方向进行移动。  
		-   (3)通过「Interpolate」内插点曲线将点重新连成曲线，曲线形态可由Graph Mapper运算器的函数图形控制，可通过右键单击Graph Mapper运算器，在graph types中选择不同的函数类型。![](https://api2.mubu.com/v3/document_image/0a9ca61e-57c7-4c00-8899-818ee935e480-20454557.jpg)  
		-   (4)将三条曲线通过Lof运算器放样成面，并由「Contour」等距断面线在曲面上沿着Y轴生成等距断面线。Contour运算器的用法与Rhino中的等距断面线命令的用法一致，需要指定起始点、方向、间距大小。  
		-   (S)通过「Extrude」挤出为曲面或实体将上一步生成的线条沿着Y轴方向延伸成面，为了保证生成的结构体彼此相连，这一步骤中延伸的距离需要与等距断面线的间距保持数据关联。  
		-   (6)将上一步生成的曲面沿着Z轴延伸形成结构体。  
-   Surface 曲面  
	-   曲面可以看做是由两个方向的曲线组成的，这两个方向我们称为U向和V向，类似坐标轴中的X轴和Y轴。当把曲面Reparameterize以后，U向和V向的定义域都被重新定义到0至1的区间内，这样曲面上任意一点都可以通过0至1内的两个数字来表示，这两个数值组成的坐标就是曲面的UV Point.  
	-   UV Point的概念与曲线上t值类似，只是t值属于一维区间，而UV Point属于二维区间。UV Point表示的其实并不是点，而是曲面上的坐标。如图1一44所示，可以通过EvaluateSurface运算器求出U、V坐标对应曲面上的点，同时该运算器的输出端N表示点对应曲面的法线方向，输出端F表示对应点垂直于曲面法线方向的平面，通过Iso Curv©运算器可计算通过对应点的两个方向的结构线。  
	-   Surface的本质就是一个二维区间，如图1-45所示，可以通过「Deconstruct Domain²」拆分二维区间为数值将曲面的二维区间分成两个一维区间，曲而同样可以通过Reparameterize将U向和V向的两个区间重新定义到0至1。![](https://api2.mubu.com/v3/document_image/17c4294f-5014-44f4-9b75-3bf4a11cd599-20454557.jpg)  
	-   GH可以按照曲面的UV走势将其分割为一定数量的子曲面，子曲面可作为曲面幕墙的嵌板，同时GH也提供了分析曲率的工具。以下通过一个幕墙案例介绍GH中曲面相关的操作方法。  
		-   (1)如图1-46所示，在Rhino空间中绘制四条曲线，曲线的形态和位置可根据需求自行设置，然后通过Loft命令依据曲线生成一个曲面。  
		-   (2)用「Surface」Nurbs曲面将曲面拾取到GH中，并通过「Divide Domain」等分区间和「Isotrim」结构线切割（提取子曲面）两个运算器将曲面细分为一定数量的子曲面。![](https://api2.mubu.com/v3/document_image/4f629265-de78-4164-969c-5f00cb7588ef-20454557.jpg)  
		-   (3)通过Area运算器确定每个子曲面的中心点，并通过「Surface Closest Point」曲面上的最近点计算这些中心点对应的曲面U、V坐标值。  
		-   (4)通过「Surface Curvature」曲面的曲率值可以测量曲面对应U、V坐标的曲率值，其中输出端G表示的是高斯曲率，输出端M表示的是平均曲率。把每个子曲面中心点对应的U、V坐标赋予到Surface Curvature运算器的UV输人端，即可得到中点所对应的平均曲率。  
		-   (5)将平均曲率数值通过「Bounds」一组数值的区间范围和「Deconstruct Domain」拆分数值区间两个运算器计算出最小值和最大值。  
		-   (6)通过「Gradient」色彩渐变器运算器将平均曲率的数值进行颜色映射。  
		-   (7)将渐变颜色通过「Custom Preview」自定义预览运算器赋予对应的子曲面，那么全部嵌板曲率变化的趋势就可以清楚地显示出来。  
	-   GH的很多操作都需要由向量指定方向与大小，曲面上点对应的法线Normal的方向是较为常用的向量方向。通过Surface Closest Point和「Evaluate Surface」分析曲面上的方向的固定搭配可以i计算曲面上的点对应的法线方向。首先由Surface Closest Point运算器找到曲面上的点对应的U、V坐标值，然后通过Evaluate Surface运算器找到U、V坐标对应曲面的法线方向。以下通过一个实例介绍曲面法线方向的应用方法：  
		-   (1)如图1-47所示，首先在Rhino中创建一个曲面，然后用Surface.运算器将其拾取进GH中。  
		-   (2)通过「Divide Domain」等分区间和「Isotrim」结构线切割（提取子曲面）两个运算器生成一定数量的子曲面，并由Area运算器找到每个子曲面的中心点。  
		-   (3)通过「Surface Closest Point」曲面上的最近点运算器可以计算出每个子曲面中心点对应的U,V坐标值。  
		-   (4)通过「Evaluate Surface」分析曲面上的方向运算器可以确定每个U,V坐标对应的曲面法线方向。  
		-   (5)通过「List Length」列表长度计算出子曲面的数量，并将其赋予「Random」随机数值的N输人端。![](https://api2.mubu.com/v3/document_image/bdfa30c9-378e-42bb-9cfc-b629f76016ba-20454557.jpg)  
		-   (6)通过Random运算器可在一定区间内创建与子曲面数量相等的随机数据。  
		-   (7)通过「Amplitude」修改矢量长度将随机数据赋予子曲面中心点对应的曲面法线向量。  
		-   (8)通过「Extrude」挤出为曲面或实体将子曲面沿着对应的向量进行移动，由于向量的大小由随机数据控制，因此会生成高度随机的表皮肌理。  
	-   通过划分曲面UV可创建一定数量的单元范围，将单元体放置在分割后的UV单元内，可创建阵列的表皮肌理效果。以下通过一个阵列球体覆盖表皮实例介绍曲面划分UV单元的应用方法。  
		-   (1)如图1-48所示，首先用「Sphere」标准球体运算器创建一个球体，将其作为阵列在曲面上的单元体。使用者也可在Rhino中创建其他形式的单元体，然后用「Brep」多重曲面将其拾取进GH中。  
		-   (2)用「Bounding Box」包裹住形体的立方体创建一个包裹球体的盒子，并由「Deconstruct Box」立方体拆解分解该盒子，计算该长方体的高度值。  
		-   (3)通过「Divide Domain」等分区间和「Surface Box」曲面细分立方体两个运算器将曲面按照UV结构划分出一系列的单元盒子。将之前分解长方体的高度值赋予Surface Box运算器的日输入端，这样单元体与最终被放置到曲面上的单元体将保持高度关联。  
		-   (4)通过「Box Morph」扭转立方体将球体放置在每个单元盒子内，Box Morph运算器的G输人端表示的是需要移动的单体：R输入端表示的是参考盒子，也就是包裹单体的Bounding Box；T输人端表示的是目标盒子，也就是在曲面上划分出来的单元盒子。![](https://api2.mubu.com/v3/document_image/2d251dc1-d41a-4cc4-ae69-72344cebf151-20454557.jpg)  
		-   从最终的结果可以看出球体在移动后发生了变形，这是因为划分单元盒子是以曲面的UV结构为依据，当把球体放置于单元盒子时，目标球体会为了适应其范围而产生缩放变形。  
-   Brep 多重曲面  
	-   Brep的概念类似Rhino中的多重曲面，但是Brep运算器既可以拾取Rhino中的单一曲面，也可以拾取多重曲面。GH中对于曲面的操作多是针对单一曲面，多重曲面的应用相对较少，多用于空间边界或形体轮廓。  
	-   在一些前期设计方案中，往往需要首先创建一个概念形体。构建形体模型的方法有很多，可以通过Rhino或T-Splines来创建，也可导入其他软件中的模型。  
	-   对于一些前期的概念设计方案，T-Splines有着较为明显的优势。T-Splines作为搭载在Rhino平台的多边形建模的插件，可以较为方便地创建一些仿生类形体，同时由于其允许T点的存在，可大大减少曲面控制点的数量，便于方案的更改。以下通过一个案例介绍Brep在GH中的应用方法。（Rhino7中已被SubD替代）  
		-   (1)如图1一49所示，借助T-Splines创建一个高层的形体轮廓，此处轮廓的形体可根据需求自行定义，然后将该形体用Brep运算器拾取到GH中。![](https://api2.mubu.com/v3/document_image/b4fafbe1-71ae-4452-b045-9896939ebbf1-20454557.jpg)  
		-   (2)用「Contour」等距断面线在高层形体表面生成楼层线，将生成的楼层线沿着Z轴方向延伸，将延伸高度与层高数值保持一致，其输出结果可作为玻璃幕墙结构。  
		-   (3)通过「Offset Curve」曲线偏移将楼层线向外偏移一定的距离，其输出结果可作为出挑阳台的边线。  
		-   (4)用「Boundary Surfaces」平面边缘轮廓建立平面将偏移后的曲线封面，并通过「Extrude」挤出为曲面或实体将其沿着Z轴方向延伸一定的高度，其输出结果可作为楼板结构。  
	-   在GH中可以依据一些复杂的形体表面生成随机点，然后用这些随机点生成不同的结构单元，这样就可以创建一种准叠效果，同时还可保留原始的形体趋势。以下通过一个案例介绍Brep创建随机分布物体的方法。  
		-   (1)如图1-50所示，通过T-Splines创建一个形体轮廓，并通过Brep运算器将其拾取到GH中。![](https://api2.mubu.com/v3/document_image/f7686be3-ad3f-4617-90d6-c01aa0176274-20454557.jpg)  
		-   (2)通过「Populate Geometry」几何体表面填充随机点在形体表面生成一系列的随机点。  
		-   (3)通过「Random」随机数值创建与点数量相同的随机数据。  
		-   (4)以随机点为中心，并以随机数值作为正方体的边长，通过「Center Box」中心点建立方体在形体表面生成大小不同的正方体。  
	-   Brep除了可以作为形体轮廓，还可作为边界范围判定点的位置。在一些概念设计中可以通过Brep筛选出点，并以点生成Box（或其他形式的结构单元）来模拟一定空间范围内的堆叠效果。以下通过一个案例介绍Brep筛选点的应用方法。![](https://api2.mubu.com/v3/document_image/b87ac040-0efd-4a55-a403-125a4e0d963c-20454557.jpg)  
		-   (1)如图1-51所示，通过T-Splines创建一个封闭的形体轮廓，并通过Bep运算器将其拾取到GH中。  
		-   (2)由「Square」平方创建一个平面的正方形点阵，其X、Y方向的正方形数量可设定为100.正方形的边长可设定为5。  
		-   (3)通过「Linear Array」直线阵列将平面点阵沿着Z轴方向进行阵列，相邻点的高度差可与正方形的边长保持一致，阵列的个数可设定为100.  
		-   (4)通过「Point In Brep」判断点是否在 Brep 内判定阵列点是否在Brep范围之内，在Brep之内的点是以True的布尔值形式输出，Brep之外的点则是以False的布尔值形式输出。  
		-   (5)通过「Dispatch」数据分流可以依据布尔值将Brep内外的点分流出来。  
		-   (6)由于Brep内部点的距离是相等的，为了保证生成的正方体彼此相连，需要将点阵的间距除以2作为「Center Box」中心点建立方体的X、Y、Z输人端的数值。  
-   Mesh 几何网格  
	-   网格是3D建模领域最有代表性的几何形式，很多软件的构架都是以网格为中心，但是由于Rhino主要是针对Nurbs的操作，导致网格在Rhino及GH中的操作容易被人忽视。网格与Nurbs的作用是互补的，很多Nurbs难以实现的模型都可以通过网格制作出来。  
	-   网格创建的模型与其他软件有较好的对接性，因为其在保存成3ds或者Obj格式后导入其他软件时，网格的拓扑关系不会发生变化，可继续对模型进行编辑。但是Nbs模型在导人到其他软件过程中，往往需要先转换为网格，其拓扑结构往往与预期效果不一致，导致后面的软件不能对其进行有效的编辑，相信经常使用Sketch Up与Rhino进行模型互导的用户会深有感触。  
	-   网格可以大大提升模型的显示效率，因为计算机的显卡无法直接读取Nubs物体，它需要先在后台将其转换成网格才可以读取出来。如果模型本身就是网格的话，那么就无需这个转换过程，因此可大大节约显示的时间。网格还可以通过Join的方法减少模型的存储空间，同样可以提升模型的显示效率。  
	-   由于GH中的Mesh命令相对较少且不够完善，因此需要外部插件来弥补其功能的缺失，较为常用的Mesh插件包括Mesh Edit、Weaverbird、Starling、Meshtools等。  
	-   对于网格的含义，如图1-52所示，在Rhino中建立一个网格，然后用“What”命令查看对于网格的描述，可以发现该网格是由9个顶点、4个有法线的网格面组成。![](https://api2.mubu.com/v3/document_image/9d7a26b9-5645-4dce-ba34-32f369837112-20454557.jpg)  
	-   如图1一53所示，将上面绘制的网格用Mcsh运算器拾取进GH中，并用「Deconstruct Mesh」拆解网格将这个网格进行分解，其V输出端表示网格的顶点：F输出端表示每个网格面的顶点序号，用Panel面板查看其输出结果，其中Q表示的是Quad,即为四边的Face,如果将三边网格面进行分解，输出端F中的数据则会显示T,所表示的就是Triangle:输出端C表示的是顶点的颜色，输出端N表示的是顶点的法线方向。![](https://api2.mubu.com/v3/document_image/55a716cb-0750-4b90-95bc-cca4037895a5-20454557.jpg)  
	-   网格由Vertices、Edges、Faces共同组成，包含三边网格和四边网格。通过指定网格内部的拓扑关系(Topology),可以创建不同结构的网格。「Construct Mesh」构建网格是创建侧格的常用命令，如图1-54所示，它需要确定网格的顶点及网格面(Fce),这里的网格面指的其实是顶点的排列序号，创建网格面可以通过在Panl面板中输入顶点序号未完成，也可通过「Mesh Quad」四边构建网格点序及「Mesh Triangle」三边构建网格点序运算器未完成。  
	-   在创建Mesh Faces的时候要尤其注意顶点序号的排列，只有正确的顶点排序才能生成正确的Mesh结果，如果顶点的排序是错误的，那么会生成有破面的网格，这样的模型在渲染或3D打印的情况下是会出错的。![](https://api2.mubu.com/v3/document_image/cbd78197-f106-4e5c-9df9-78d18d375c3a-20454557.jpg)  
	-   网格同样可以由Nurbs曲面转换得到，通过「Mesh Surface」曲面转网格运算器可以将曲面转换成四边网格，并可以自定义U向和V向网格的数量。如图1-55所示，曲面可以通过Mesh Surface运算器转换成网格，并保持原始曲面的UV拓扑结构。![](https://api2.mubu.com/v3/document_image/609f4e1b-915a-4c7b-a757-2f9b12b6e029-20454557.jpg)  
	-   网格同样可以通过「Mesh Brep」Brep转网格运算器由Brep转换而来，不过由于Brep的UV结构比较混乱，生成的网格拓扑关系也比较混乱，难以对其深化处理，通常的做法是利用UV结构较为规整的单一曲面转换成网格，再对其进行深化处理。  
	-   GH中网格框线的开启与关闭可在[Display_Preview Mesh Edges]进行切换，也可通过快捷键“Ctrl+M”控制网格框线的开启与关闭。  
	-   网格边缘分为Naked Edges、Interior Edges、Non-Manifold Edges,如图1-56所示，用「Mesh Edges」网格边缘运算器可将这三类边缘线提取出来。其中Naked Edges表示外露边缘线（每个边缘线只属于一个面），Interior Edges表示内部边缘线（两个面共用一个边缘线），NonManifold Edges表示非正常边缘线（多于两个面共用一个边缘线）。用Mesh Edges运算器提取出来的边缘线都是断开的线。![](https://api2.mubu.com/v3/document_image/d0859a22-7686-4d47-8ca1-ec6a46456b7b-20454557.jpg)  
	-   通过「Face Boundaries」单个网格边框运算器可提取网格每个而的边缘线，其输出的结果是闭合的Polyline Curve,如果将这些Polyline Curve拆开的话，在面与面相交的位置会有重合的边缘线产生。  
	-   创建孔洞表皮是GH中比较常见的操作，多数情况下是用Nurbs来操作的，Nurbs所带来的问题就是一旦所开孔洞数量较多的话，整个程序的运行就会变得非常慢。为了提高运算效率，可以通过Mcsh的做法来优化整个程序。以下通过一个案例介绍Mesh方法创建孔洞表皮的方法。  
		-   (1)如图1-57所示，为了简化操作可以直接调用1-55图中的曲面，并用Mesh Surface运算器将其转换为网格，U向和V向划分的网格数量可分别设定为32和42.![](https://api2.mubu.com/v3/document_image/e306a8ae-2e19-4e68-bb50-24625f1cbc51-20454557.jpg)  
		-   (2)通过「Face Boundaries」单个网格边框运算器提取每个网格面的轮廓线，并用「Face Normals」网格面法线方向运算器找到每个网格面的中心点。  
		-   (3)由「List Length」列表长度运算器测量网格面的数量，并通过「Subtraction」减法运算器将，总数量减去l.  
		-   (4)用「Range」基于数值范围的等差数列运算器将0至1区间进行等分，等分的段数为网格面的数量减去1。  
		-   (S)调入「Graph Mapper」函数映射运算器，并将其函数类型改为Sine函数。将等分数值赋予Graph Mapper运算器，对其进行函数映射。  
		-   (6)由于正弦函数的输出数据区间是0至1，因此可通过「Bounds」一组数值的区间范围、「Remap Numbers」区间映射、「Construct Domain」建立数值区间3个运算器将函数的输出数据映射到0.2至0.8区间内。  
		-   (7)通过「Scale」三维缩放运算器将网格面边缘线依据中心点进行缩放，缩放的比例因子为映射后的数值。  
		-   (8)由两个「Explode」炸开曲线运算器将缩放前后的线框同时打开，为了保证数据路径一一对应，需要通过右键单击Explode运算器的S输出端，选择[Graft]将两组数据创建成树形数据。  
		-   (9)通过「Flip Curve」反转曲线方向运算器转换其中一组线的方向，如果不转换方向的话，对应两条线的4个端点的排序就是{0;1,3,2}，这样就需要手工修改Face的顶点排序。  
		-   (10)将两组网格面的边缘线继续用「Explode」炸开曲线运算器打开，同时右键单击其V输出端，选择Simplify进行路径简化。  
		-   (I1)用「Merge」合并同路径的数据运算器将两组点数据进行合并，那么其输出结果为每个路径下有4个构成网格面的顶点。  
		-   (12)最后将点赋予「Construct Mesh」构建网格运算器的V输入端，即可依据顶点的排序创建网格。  
		-   「Deconstruct Mesh」拆解网格运算器可以确定网格每个顶点的法线方向，「Face Normals」网格面法线方向运算器可以确定每个网格面中心点的法线方向。网格上点的法线方向遵从右手螺旋定则，如图1一58所示，两个网格面的顶点排序分别为Q{3:0;2;4}、T{0:1:2,按照右手螺旋定则，此时网格上点对应的法线方向是向上的。![](https://api2.mubu.com/v3/document_image/06a05641-e8f9-4764-b903-62a779e1cfae-20454557.jpg)  
	-   网格上点的法线应用多伴随形体的变化，以下通过一个案例介绍网格顶点法线方向的应用方法。  
		-   (1)如图1-59所示，用「Mesh Sphere」网格球体运算器创建一个网格球体，其U、V两个方向网格面的数量可同时设定为30。![](https://api2.mubu.com/v3/document_image/51c7edc8-1cff-4112-be53-a98b6b15030f-20454557.jpg)  
		-   (2)通过「Deconstruct Mesh」拆解网格运算器提取网格面的顶点及其对应的法线方向。  
		-   (3)用「Deconstruct」拆分点为XYZ坐标数值运算器将网格面的顶点分解为X,Y、Z坐标，并将Z坐标的数值通过「Sine」三角函数：正弦值运算器进行正弦函数映射。  
		-   (4)为了方便后期调整数据，我们将正弦函数映射后的数值通过「Multiplication」乘法运算器乘以一个倍增值，将该数值赋予「Amplitude」修改矢量长度运算器的A输入端，作为网格顶点法线向量的值。  
		-   (5)将网格顶点通过「Move」移动运算器沿着其对应的向量进行移动。  
		-   (6)将移动后的顶点由「Construct Mesh」构建网格运算器重新组成网格，其F输入端的网格顶点排序需要与初始网格的顶点排序保持一致。  
	-   在用「Construct Mesh」构建网格运算器创建网格的时候，可以在其C输入端为网格赋予颜色。如图1一60所示，网格着色的原理就是顶点着色，如果只输入一种颜色，那么网格就会显示该种颜色;如果将顶点指定多种颜色，那么网格将会依据这些顶点颜色生成过渡的渐变色。![](https://api2.mubu.com/v3/document_image/018c806f-2218-4598-a2dd-d054a9a11d86-20454557.jpg)  
	-   网格着色可用来显示分析的结果，以下通过一个案例介绍网格着色的应用方法。  
		-   (1)如图1一61所示，为了简化操作，可以直接调用图1-59中的网格结果。![](https://api2.mubu.com/v3/document_image/663c6e0e-7202-44c4-a448-9ba60ce5e38e-20454557.jpg)  
		-   (2)为了更直观地显示顶点位移变化的大小，可以通过「Gradient」色彩渐变器运算器中的渐变色显示顶点位移的变化趋势。  
		-   (3)由于Gradient Control默认的区间是0至1，因此可以用数据映射的方法将所有顶点的位移数值映射到0至1区间内。  
		-   (4)将渐变色赋予Construct Mesh运算器的C输人端，网格的所有顶点将会被赋予相对应的颜色，网格面则会依据四个顶点的颜色生成过渡的渐变色。  
-   Colour 颜色  
	-   颜色是人们通过眼、大脑产生的一种对光的视觉效应，具有色相、饱和度、明度三个特性。GH中的很多分析结果都可以通过颜色显示出来，同时GH也可为物体精确指定颜色，并通过输出的颜色数据辅助生产加工。  
	-   「Colour Swatch」颜色板运算器可快速创建一种不精确的颜色，另外GH提供了一系列通过输人数值来创建颜色的运算器。如图1-62所示，常用创建颜色的运算器是Colour RGB、Colour CMYK、Colour HSL。其中RGB表示的是红色，绿色、蓝色，CMYK表示的是青色、洋红色，黄色、黑色(CMYK的数值已被定义到0至1这个范围)：HSL表示的是色相、饱和度，明度（HSL的数值已被定义到0至1这个范围）。![](https://api2.mubu.com/v3/document_image/aa7201ef-dad2-4642-9ff9-7e2bc898e36b-20454557.jpg)  
	-   在一些立面设计中，如果希望通过图案与额色来展示主题，可以通过「Image Sampler」图像采样器输出主题图片的颜色，将其赋予对应位置的幕墙嵌板，即可在立面拼出整体的图案效果。以下通过一个案例介绍立而图案的创建方法。  
		-   (1)如图1-63所示，提取一个需要创建的立面的图案，并用「Surface」Nurbs曲面运算器将其拾取进GH中，同时右键单击该Surface运算器的输入端，通过Reparameterize使其表面区间重新被定义到0至1。![](https://api2.mubu.com/v3/document_image/02b707d9-5cf5-4f65-88d1-03551388c5fc-20454557.jpg)  
		-   (2)通过「Divide Domain」等分区间和「Isotrim」结构线切割（提取子曲面）两个运算器细分曲面，生成一定数量的幕墙嵌板。  
		-   (3)由「Area」测表面积运算器确定每个嵌板的中心点，并通过「Surface Closest Point」曲面上的最近点运算器i计算中心点对应曲面的U、V坐标值。  
		-   (4)通过「Image Sampler」图像采样器运算器可以计算出嵌板中心点对应图片的颜色，需要注意的是其Channel选项应选择[RGBA Colours]，这样输出的结果就是一个RGB数据。  
		-   (5)将每个嵌板通过「Custom Preview」自定义预览运算器赋予颜色。  
		-   (6)通过「Split ARGB」ARGB颜色分解运算器将颜色分解为RGB数值，并将其输出到Excel中，这样就可以下料喷涂对应编号的嵌板单元，加工好以后按照编号进行拼装即可。  
		-   GH中的颜色还可显示分析的结果，其中「Gradient」色彩渐变器是此类应用中很常用的运算器。在只有高程点数据的地形制作过程中，可以借助GH中的「Delaunay Mesh」德洛内三角网格运算器将高程点生成地形网格。以下通过一个案例介绍渐变色在地形分析中的应用方法。  
		-   (1)如图l-64所示，将高程点通过Point运算器拾取进GH中，并由「Delaunay Mesh」德洛内三角网格运算器依据点生成地形网格。![](https://api2.mubu.com/v3/document_image/00dd7f39-67d0-4d77-ba83-ad9226c2a802-20454557.jpg)  
		-   (2)在一些高程点数量较少的基础文件中，生成的网格往往比较粗糙，可以通过「Smooth Mesh」柔化网格运算器来进行加工。  
		-   (3)将高程点通过「Deconstruct」拆分点为XYZ坐标数值运算器分解为X、Y、Z坐标，通过「Bounds」一组数值的区间范围、「Remap Numbers」区间映射两个运算器将Z坐标数值映射到0至1范围内。  
		-   (4)将映射后的数值赋予「Gradient」色彩渐变器运算器的T输入端，输出的结果即为数值对应的渐变颜色。  
		-   (S)通过「Mesh Colours」网格颜色运算器对网格的顶点进行着色，每个网格面依据顶点的颜色生成渐变色。这样就创建了一个过渡自然的地形分析结果，其显示颜色是根据高程点的Z坐标值来确定的。  
# ALU 运算器  
-   运算器形态![](https://api2.mubu.com/v3/document_image/f1fc6a17-3687-4192-9083-c7f87b035b15-20454557.jpg)![](https://api2.mubu.com/v3/document_image/3f32af4a-1d6e-410e-bdf6-bde1a83df00c-20454557.jpg)  
-   右键菜单![](https://api2.mubu.com/v3/document_image/d5918e0a-d168-4c0a-b5a1-827cfe8e6ae8-20454557.jpg)  
-   principal 首要![](https://api2.mubu.com/v3/document_image/d50db1f4-60f6-4079-8608-75c7c3d82bc4-20454557.jpg)  
	-   将此输入更改为主参数，输出数据将基于此参数进行结构化  
-   Reverse 反转![](https://api2.mubu.com/v3/document_image/9102c116-32fe-4d40-90c9-45cd7176f0d8-20454557.jpg)  
	-   将此参数所有列表的顺序颠倒  
	-   对应运算器「Reverse List」反转列表顺序  
-   Flatten 拍平![](https://api2.mubu.com/v3/document_image/5cca51ae-e69a-484b-94dc-a3899163ae0b-20454557.jpg)  
	-   将此参数中所有的数据拍平到一个列表中  
	-   对应运算器「Flatten Tree」拍平数据树  
-   Graft 分组![](https://api2.mubu.com/v3/document_image/62287b5e-b9ac-42e9-a52d-2042eba1c41f-20454557.jpg)  
	-   在当前的数据数结构中为每个数据添加一个分支  
	-   对应运算器「Graft Tree」数据树增加一层  
-   Simplify 简化![](https://api2.mubu.com/v3/document_image/2b56c854-3004-409a-a7d8-e2e811c28b13-20454557.jpg)  
	-   剔除树形数据中没有实际作用的层级结构  
	-   对应运算器「Simplify Tree」简化数据树  
-   Reparameterize 重新参数化![](https://api2.mubu.com/v3/document_image/32a692e5-fc61-4cda-bb3f-1973f6e0d027-20454557.jpg)  
	-   将此参数的区间重新定义为{0-1}  
# GIF 动画  
-   Grasshopper  
	-   右键 Number Slider  
		-   Animate  
			-   选择目录 以及格式 一般为PNG  
			-   选择当前视图 导出  
-   Photoshop  
	-   窗口  
		-   工作区 动感  
			-   添加媒体 PNG  
				-   转换为帧 永远循环  
				-   全选 选择播放延迟 一般是0.03  
	-   文件  
		-   导出  
			-   存储为Web 旧版  
				-   导出